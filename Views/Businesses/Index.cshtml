@{
  Layout = "_Layout";
}

@using LocalLookupMVC.Models;
@model List<LocalLookupMVC.Models.Business>;

<div class='jumbotron'>
 <h1>Cities</h1>
</div>
<div>
  <div class='entryLabel'>
    <h2>
      Index
    </h2> 
  </div>
  <div class='entry'>
    @if (@Model.Count == 0)
    {
      <h3>No Cities have been added yet!</h3>
    } 
    else{

      @foreach (Business Business in Model)
      {
        <li>@Html.ActionLink($"{Business.Name}", "Details", new { id = Business.CityId })</li>
      }
    
    }
    @if(User.Identity.IsAuthenticated)
    {
      <p>@Html.ActionLink("Add new Business", "Create")</p>
    }
        <li>Page: @ViewBag.page</li>
         <p>@Html.ActionLink("Back a Page", "Index", "Cities", new{page = ViewBag.page - 1})</p>
         
         <p>@Html.ActionLink("1", "Index", "Cities", new{page = ViewBag.page, pageCount = 1 })</p>
         
         <p>@Html.ActionLink("2", "Index", "Cities", new{page = ViewBag.page, pageCount = 2})</p>
         
         <p>@Html.ActionLink("3", "Index", "Cities", new{page = ViewBag.page, pageCount = 3})</p>
         <p>@Html.ActionLink("Next Page", "Index", "Cities", new{page = ViewBag.page + 1})</p>
  </div>
</div>
